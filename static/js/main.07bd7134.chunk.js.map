{"version":3,"sources":["components/Button/Button.module.css","components/Modal/Modal.module.css","components/SearchBar/SearchBar.js","service/ImgApi.js","components/ImageGallery/boy-smiling.png","components/ImageGallery/ImageItem.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","App.js","reportWebVitals.js","index.js","components/SearchBar/SearchBar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","SearchBar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","styles","Searchbar","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","fetchImages","currentPage","pageSize","axios","get","then","response","data","hits","ImageItem","webformatURL","onToggleModal","largeImageURL","ImageGalleryItem","src","alt","ImageGalleryItemImage","onClick","defaultProps","defaultImg","Button","isLoading","loader","color","height","width","visible","modalRoot","document","querySelector","Modal","handleKeyDown","code","console","log","onClose","handleBackdropClick","event","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","ImageGallery","images","searchQuery","showModal","fetchImg","options","prevState","catch","error","finally","toggleModal","handleModalImage","url","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","shouldRenderLoadMoreButton","length","map","id","App","handleSubmitSearchbar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.07bd7134.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2QREF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2IcTK\",\"Modal\":\"Modal_Modal__3geW6\"};","import React, { Component} from \"react\";\r\nimport styles from \"./SearchBar.module.css\";\r\n\r\n\r\nclass SearchBar extends Component {\r\n    state = {\r\n        query: ''\r\n    }\r\n\r\n    handleChange = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.query);\r\n      this.setState({ query: '' });\r\n      \r\n    };\r\n    \r\n    render() {\r\n        return (\r\n <header className={styles.Searchbar}>\r\n  <form  onSubmit={this.handleSubmit} className={styles.SearchForm}>\r\n    <button type=\"submit\" className={styles.SearchFormButton}>\r\n      <span className={styles.SearchFormButtonLabel}>Search</span>\r\n    </button>\r\n\r\n    <input\r\n      className={styles.SearchFormInput}\r\n      type=\"text\"\r\n      autoComplete=\"off\"\r\n      autoFocus\r\n                placeholder=\"Search images and photos\"\r\n                onChange={this.handleChange}\r\n    />\r\n  </form>\r\n</header>\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default SearchBar;","import axios from 'axios';\r\n\r\nconst KEY = '20567405-620e455a5abdf9a1e5e5f188a';\r\n\r\nconst fetchImages = ({ query = '', currentPage = 1, pageSize = 12 }) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${query}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=${ pageSize}`,\r\n  )\r\n      \r\n    .then(response => response.data.hits);\r\n};\r\n\r\nexport default fetchImages;","export default __webpack_public_path__ + \"static/media/boy-smiling.e375428c.png\";","import React from \"react\";\r\nimport defaultImg from './boy-smiling.png';\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nconst ImageItem = ({ webformatURL, onToggleModal, largeImageURL }) => (\r\n  <li  className={styles.ImageGalleryItem}>\r\n        <img src={webformatURL} alt=\"\"\r\n            className={styles.ImageGalleryItemImage}\r\n        onClick={() => onToggleModal(largeImageURL)}/>\r\n            </li>\r\n);\r\n\r\nImageItem.defaultProps = {\r\n\twebformatURL: defaultImg,\r\n};\r\n\r\nImageItem.propTypes = {\r\n    \r\n   largeImageURL: PropTypes.string.isRequired,\r\n  onToggleModal: PropTypes.func.isRequired,\r\n};\r\nexport default ImageItem;\r\n\r\n","import React from \"react\";\r\n\r\nimport Loader from 'react-loader-spinner';\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Button.module.css\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nconst Button = ({onClick, isLoading }) => (\r\n    <button type=\"button\"\r\n        className={styles.Button}\r\n        onClick={onClick}>\r\n       <Loader\r\n        className={styles.loader}\r\n         type=\"Bars\" color=\"#00BFFF\" height={80} width={80}\r\n        visible={isLoading}\r\n      />\r\n      {isLoading ? '' : 'Load more'}\r\n          </button>\r\n);\r\n\r\n\r\n\r\nButton.propTypes = {\r\n    isLoading: PropTypes.bool.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\nexport default Button;\r\n\r\n\r\n ","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from \"./Modal.module.css\";\r\n\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\n\r\n\r\n\r\nexport default class Modal extends Component {\r\n componentDidMount() {\r\n    console.log('Modal componentDidMount');\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    console.log('Modal componentWillUnmount');\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      console.log('Нажали ESC, нужно закрыть модалку');\r\n\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    \r\n\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n      return createPortal(\r\n          <div className={styles.Overlay } onClick={this.handleBackdropClick}>\r\n              <div className={styles.Modal}>{this.props.children}\r\n                <img src=\"\" alt=\"\" />\r\n            </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }   \r\n\r\n}\r\n\r\n","import React, { Component} from \"react\";\r\n\r\n//import PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGallery.module.css\";\r\nimport fetchImages from '../../service/ImgApi';\r\nimport ImageItem from \"./ImageItem\";\r\nimport Button from \"../Button/Button\";\r\nimport Modal from \"../Modal/Modal\";\r\n\r\n\r\nclass ImageGallery extends Component {\r\n    state = {\r\n    images: [],\r\n    currentPage: 1,\r\n    searchQuery: '',\r\n      isLoading: false,\r\n      showModal: false,\r\n      largeImageURL: null,\r\n    }\r\ncomponentDidUpdate(prevProps, prevState) {\r\n     if (prevProps.query !== this.props.query) {\r\n      this.setState({ currentPage: 1, images: [], error: null }, () =>\r\n        this.fetchImg(),\r\n      );\r\n  }\r\n  if (prevState.currentPage !== this.state.currentPage) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  fetchImg = () => {\r\n    const { currentPage } = this.state;\r\n    const { query } = this.props;\r\n\r\n    const options = {\r\n      query,\r\n      currentPage,\r\n    };\r\n\r\n    this.setState({ isLoading: true });\r\n\r\n    \r\n      fetchImages(options)\r\n      .then(images => {\r\n        this.setState(prevState => ({\r\n          images: [...prevState.images, ...images],\r\n          currentPage: prevState.currentPage + 1,\r\n        }));\r\n      })\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n\r\ntoggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  \r\n  };\r\n  handleModalImage = url => {\r\n    this.toggleModal();\r\n    this.setState({ largeImageURL: url });\r\n  };\r\n\r\n  render() {\r\n    const { images, isLoading, error, showModal, largeImageURL, } = this.state;\r\n    const shouldRenderLoadMoreButton = images.length > 0;\r\n\r\n    return (\r\n      <>\r\n        {error && <h1>Sorry...We are doing our best</h1>}\r\n        <ul className={ styles.ImageGallery}>\r\n          {images.map(({ id, webformatURL, largeImageURL }) => (\r\n\r\n <ImageItem\r\n              key={id}\r\n              webformatURL={webformatURL}\r\n              onToggleModal={this.handleModalImage}\r\n              largeImageURL={largeImageURL}\r\n            />\r\n          ))}\r\n        </ul>\r\n\r\n        {/* {isLoading && <h1>Loading...</h1>} */}\r\n\r\n        {shouldRenderLoadMoreButton && (\r\n           <Button onClick={this.fetchImg} isLoading={isLoading} />\r\n         \r\n          \r\n        )}\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal}>\r\n            <img src={largeImageURL} alt=\"\" />\r\n          </Modal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\nimport './App.css';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport SearchBar from \"./components/SearchBar/SearchBar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\n\n\nclass App extends Component {\n  state = {\n    query: ''\n  };\n\n  \n  handleSubmitSearchbar = (query) => {\n    this.setState({ query });\n  };\n  render() {\n    return (\n       <>\n        <SearchBar onSubmit={this.handleSubmitSearchbar} />\n        <ImageGallery query={this.state.query} />\n      </>\n    );\n  }\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__MJ1Wx\",\"SearchForm\":\"SearchBar_SearchForm__3SbPz\",\"SearchFormButton\":\"SearchBar_SearchFormButton__3YZum\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__2uCF_\",\"SearchFormInput\":\"SearchBar_SearchFormInput__2apQL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1MusZ\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__x82Eo\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__X0KOn\"};"],"sourceRoot":""}